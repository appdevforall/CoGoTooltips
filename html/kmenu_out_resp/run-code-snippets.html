<html>
 <head>
  <meta charset="utf-8"/>
  <link href="doc_style.css" rel="stylesheet"/>
 </head>
 <body>
  <a class="menu-link" href="toc.html">
   MENU
  </a>
  <hr/>
  <div class="article-content">
   <h1 data-toc="run-code-snippets" id="run-code-snippets.md">
    Run code snippets
   </h1>
   <p id="r88k0l_2">
    Kotlin code is typically organized into projects with which you work in an IDE, a text editor, or another tool. However, if you want to quickly see how a function works or find an expression's value, there's no need to create a new project and build it. Check out these three handy ways to run Kotlin code instantly in different environments:
   </p>
   <ul class="list _bullet" id="r88k0l_3">
    <li class="list__item" id="r88k0l_7">
     <p>
      <a data-tooltip="IntelliJ IDEA and Android Studio support Kotlin scratch files and worksheets." href="#ide-scratches-and-worksheets" id="r88k0l_10">
       Scratch files and worksheets
      </a>
      in the IDE.
     </p>
    </li>
    <li class="list__item" id="r88k0l_8">
     <p>
      <a data-tooltip="Kotlin Playground is an online application for writing, running, and sharing Kotlin code in your browser." href="#browser-kotlin-playground" id="r88k0l_11">
       Kotlin Playground
      </a>
      in the browser.
     </p>
    </li>
    <li class="list__item" id="r88k0l_9">
     <p>
      <a data-tooltip="The ki shell (Kotlin Interactive Shell) is a command-line utility for running Kotlin code in the terminal. It's available for Linux, macOS, and Windows." href="#command-line-ki-shell" id="r88k0l_12">
       ki shell
      </a>
      in the command line.
     </p>
    </li>
   </ul>
   <section class="chapter">
    <h2 data-toc="ide-scratches-and-worksheets" id="ide-scratches-and-worksheets">
     IDE: scratches and worksheets
    </h2>
    <p id="r88k0l_13">
     IntelliJ IDEA and Android Studio support Kotlin
     <a data-external="true" href="https://www.jetbrains.com/help/idea/kotlin-repl.html#efb8fb32" id="r88k0l_21" rel="noopener noreferrer">
      scratch files and worksheets
     </a>
     .
    </p>
    <ul class="list _bullet" id="r88k0l_14">
     <li class="list__item" id="r88k0l_22">
      <p id="r88k0l_24">
       <span class="emphasis" id="r88k0l_26">
        Scratch files
       </span>
       (or just
       <span class="emphasis" id="r88k0l_27">
        scratches
       </span>
       ) let you create code drafts in the same IDE window as your project and run them on the fly. Scratches are not tied to projects; you can access and run all your scratches from any IntelliJ IDEA window on your OS.
      </p>
      <p id="r88k0l_25">
       To create a Kotlin scratch, click
       <span class="control" id="r88k0l_28">
        File
       </span>
       |
       <span class="control" id="r88k0l_29">
        New
       </span>
       |
       <span class="control" id="r88k0l_30">
        Scratch File
       </span>
       and select the
       <span class="control" id="r88k0l_31">
        Kotlin
       </span>
       type.
      </p>
     </li>
     <li class="list__item" id="r88k0l_23">
      <p id="r88k0l_32">
       <span class="emphasis" id="r88k0l_34">
        Worksheets
       </span>
       are project files: they are stored in project directories and tied to the project modules. Worksheets are useful for writing pieces of code that don't actually make a software unit but should still be stored together in a project, such as educational or demo materials.
      </p>
      <p id="r88k0l_33">
       To create a Kotlin worksheet in a project directory, right-click the directory in the project tree and select
       <span class="control" id="r88k0l_35">
        New
       </span>
       |
       <span class="control" id="r88k0l_36">
        Kotlin Class/File
       </span>
       |
       <span class="control" id="r88k0l_37">
        Kotlin Worksheet
       </span>
       .
      </p>
     </li>
    </ul>
    <p id="r88k0l_15">
     Syntax highlighting, auto-completion, and other IntelliJ IDEA code editing features are supported in scratches and worksheets. There's no need to declare the
     <code class="code" id="r88k0l_38">
      main()
     </code>
     function – all the code you write is executed as if it were in the body of
     <code class="code" id="r88k0l_39">
      main()
     </code>
     .
    </p>
    <p id="r88k0l_16">
     Once you have finished writing your code in a scratch or a worksheet, click
     <span class="control" id="r88k0l_40">
      Run
     </span>
     . The execution results will appear in the lines opposite your code.
    </p>
    <figure id="r88k0l_17">
     <img alt="Run scratch" height="245" src="images/scratch-run.png" title="Run scratch" width="700"/>
    </figure>
    <section class="chapter">
     <h3 data-toc="interactive-mode" id="interactive-mode">
      Interactive mode
     </h3>
     <p id="r88k0l_41">
      The IDE can run code from scratches and worksheets automatically. To get execution results as soon as you stop typing, switch on
      <span class="control" id="r88k0l_43">
       Interactive mode
      </span>
      .
     </p>
     <figure id="r88k0l_42">
      <img alt="Scratch interactive mode" height="148" src="images/scratch-interactive.png" title="Scratch interactive mode" width="700"/>
     </figure>
    </section>
    <section class="chapter">
     <h3 data-toc="use-modules" id="use-modules">
      Use modules
     </h3>
     <p id="r88k0l_44">
      You can use classes or functions from a Kotlin project in your scratches and worksheets.
     </p>
     <p id="r88k0l_45">
      Worksheets automatically have access to classes and functions from the module where they reside.
     </p>
     <p id="r88k0l_46">
      To use classes or functions from a project in a scratch, import them into the scratch file with the
      <code class="code" id="r88k0l_49">
       import
      </code>
      statement, as usual. Then write your code and run it with the appropriate module selected in the
      <span class="control" id="r88k0l_50">
       Use classpath of module
      </span>
      list.
     </p>
     <p id="r88k0l_47">
      Both scratches and worksheets use the compiled versions of connected modules. So, if you modify a module's source files, the changes will propagate to scratches and worksheets when you rebuild the module. To rebuild the module automatically before each run of a scratch or a worksheet, select
      <span class="control" id="r88k0l_51">
       Make module before Run
      </span>
      .
     </p>
     <figure id="r88k0l_48">
      <img alt="Scratch select module" height="147" src="images/scratch-select-module.png" title="Scratch select module" width="700"/>
     </figure>
    </section>
    <section class="chapter">
     <h3 data-toc="run-as-repl" id="run-as-repl">
      Run as REPL
     </h3>
     <p id="r88k0l_52">
      To evaluate each particular expression in a scratch or a worksheet, run it with
      <span class="control" id="r88k0l_54">
       Use REPL
      </span>
      selected. The code lines will run sequentially, providing the results of each call. You can later use the results in the same file by reffering to their auto-generated
      <code class="code" id="r88k0l_55">
       res*
      </code>
      names (they are shown in the corresponding lines).
     </p>
     <figure id="r88k0l_53">
      <img alt="Scratch REPL" height="189" src="images/scratch-repl.png" title="Scratch REPL" width="700"/>
     </figure>
    </section>
   </section>
   <section class="chapter">
    <h2 data-toc="browser-kotlin-playground" id="browser-kotlin-playground">
     Browser: Kotlin Playground
    </h2>
    <p id="r88k0l_56">
     <a data-external="true" href="https://play.kotlinlang.org/" id="r88k0l_60" rel="noopener noreferrer">
      Kotlin Playground
     </a>
     is an online application for writing, running, and sharing Kotlin code in your browser.
    </p>
    <section class="chapter">
     <h3 data-toc="write-and-edit-code" id="write-and-edit-code">
      Write and edit code
     </h3>
     <p id="r88k0l_61">
      In the Playground's editor area, you can write code just as you would in a source file:
     </p>
     <ul class="list _bullet" id="r88k0l_62">
      <li class="list__item" id="r88k0l_66">
       <p>
        Add your own classes, functions, and top-level declarations in an arbitrary order.
       </p>
      </li>
      <li class="list__item" id="r88k0l_67">
       <p>
        Write the executable part in the body of the
        <code class="code" id="r88k0l_68">
         main()
        </code>
        function.
       </p>
      </li>
     </ul>
     <p id="r88k0l_63">
      As in typical Kotlin projects, the
      <code class="code" id="r88k0l_69">
       main()
      </code>
      function in the Playground can have the
      <code class="code" id="r88k0l_70">
       args
      </code>
      parameter or no parameters at all. To pass program arguments upon execution, write them in the
      <span class="control" id="r88k0l_71">
       Program arguments
      </span>
      field.
     </p>
     <figure id="r88k0l_64">
      <img alt="Playground: code completion" height="443" src="images/playground-completion.png" title="Playground: code completion" width="700"/>
     </figure>
     <p id="r88k0l_65">
      The Playground highlights the code and shows code completion options as you type. It automatically imports declarations from the standard library and
      <a data-tooltip="Asynchronous or non-blocking programming is an important part of the development landscape. When creating server-side, desktop, or mobile applications, it's important to provide an experience that is not only fluid from the user's perspective, but also scalable when needed." href="coroutines-overview.html" id="r88k0l_72">
       <code class="code" id="r88k0l_73">
        kotlinx.coroutines
       </code>
      </a>
      .
     </p>
    </section>
    <section class="chapter">
     <h3 data-toc="choose-execution-environment" id="choose-execution-environment">
      Choose execution environment
     </h3>
     <p id="r88k0l_74">
      The Playground provides ways to customize the execution environment:
     </p>
     <ul class="list _bullet" id="r88k0l_75">
      <li class="list__item" id="r88k0l_79">
       <p>
        Multiple Kotlin versions, including available
        <a data-tooltip="You can participate in the Kotlin Early Access Preview (EAP) to try out the latest Kotlin features before they are released." href="eap.html" id="r88k0l_81">
         previews of future versions
        </a>
        .
       </p>
      </li>
      <li class="list__item" id="r88k0l_80">
       <p>
        Multiple backends to run the code in: JVM, JS (legacy or
        <a data-tooltip="The Kotlin/JS IR compiler backend is the main focus of innovation around Kotlin/JS, and paves the way forward for the technology." href="js-ir-compiler.html" id="r88k0l_82">
         IR compiler
        </a>
        , or Canvas), or JUnit.
       </p>
      </li>
     </ul>
     <figure id="r88k0l_76">
      <img alt="Playground: environment setup" height="264" src="images/playground-env-setup.png" title="Playground: environment setup" width="700"/>
     </figure>
     <p id="r88k0l_77">
      For JS backends, you can also see the generated JS code.
     </p>
     <figure id="r88k0l_78">
      <img alt="Playground: generated JS" height="215" src="images/playground-generated-js.png" title="Playground: generated JS" width="700"/>
     </figure>
    </section>
    <section class="chapter">
     <h3 data-toc="share-code-online" id="share-code-online">
      Share code online
     </h3>
     <p id="r88k0l_83">
      Use the Playground to share your code with others – click
      <span class="control" id="r88k0l_86">
       Copy link
      </span>
      and send it to anyone you want to show the code to.
     </p>
     <p id="r88k0l_84">
      You can also embed code snippets from the Playground into other websites and even make them runnable. Click
      <span class="control" id="r88k0l_87">
       Share code
      </span>
      to embed your sample into any web page or into a
      <a data-external="true" href="https://medium.com/" id="r88k0l_88" rel="noopener noreferrer">
       Medium
      </a>
      article.
     </p>
     <figure id="r88k0l_85">
      <img alt="Playground: share code" height="443" src="images/playground-share.png" title="Playground: share code" width="700"/>
     </figure>
    </section>
   </section>
   <section class="chapter">
    <h2 data-toc="command-line-ki-shell" id="command-line-ki-shell">
     Command line: ki shell
    </h2>
    <p id="r88k0l_89">
     The
     <a data-external="true" href="https://github.com/Kotlin/kotlin-interactive-shell" id="r88k0l_98" rel="noopener noreferrer">
      ki shell
     </a>
     (
     <span class="emphasis" id="r88k0l_99">
      Kotlin Interactive Shell
     </span>
     ) is a command-line utility for running Kotlin code in the terminal. It's available for Linux, macOS, and Windows.
    </p>
    <p id="r88k0l_90">
     The ki shell provides basic code evaluation capabilities, along with advanced features such as:
    </p>
    <ul class="list _bullet" id="r88k0l_91">
     <li class="list__item" id="r88k0l_100">
      <p>
       code completion
      </p>
     </li>
     <li class="list__item" id="r88k0l_101">
      <p>
       type checks
      </p>
     </li>
     <li class="list__item" id="r88k0l_102">
      <p>
       external dependencies
      </p>
     </li>
     <li class="list__item" id="r88k0l_103">
      <p>
       paste mode for code snippets
      </p>
     </li>
     <li class="list__item" id="r88k0l_104">
      <p>
       scripting support
      </p>
     </li>
    </ul>
    <p id="r88k0l_92">
     See the
     <a data-external="true" href="https://github.com/Kotlin/kotlin-interactive-shell" id="r88k0l_105" rel="noopener noreferrer">
      ki shell GitHub repository
     </a>
     for more details.
    </p>
    <section class="chapter">
     <h3 data-toc="install-and-run-ki-shell" id="install-and-run-ki-shell">
      Install and run ki shell
     </h3>
     <p id="r88k0l_106">
      To install the ki shell, download the latest version of it from
      <a data-external="true" href="https://github.com/Kotlin/kotlin-interactive-shell" id="r88k0l_111" rel="noopener noreferrer">
       GitHub
      </a>
      and unzip it in the directory of your choice.
     </p>
     <p id="r88k0l_107">
      On macOS, you can also install the ki shell with Homebrew by running the following command:
     </p>
     <div class="code-block" data-lang="bash">
      brew install ki
     </div>
     <p id="r88k0l_109">
      To start the ki shell, run
      <code class="code" id="r88k0l_112">
       bin/ki.sh
      </code>
      on Linux and macOS (or just
      <code class="code" id="r88k0l_113">
       ki
      </code>
      if the ki shell was installed with Homebrew) or
      <code class="code" id="r88k0l_114">
       bin\ki.bat
      </code>
      on Windows.
     </p>
     <p id="r88k0l_110">
      Once the shell is running, you can immediately start writing Kotlin code in your terminal. Type
      <code class="code" id="r88k0l_115">
       :help
      </code>
      (or
      <code class="code" id="r88k0l_116">
       :h
      </code>
      ) to see the commands that are available in the ki shell.
     </p>
    </section>
    <section class="chapter">
     <h3 data-toc="code-completion-and-highlighting" id="code-completion-and-highlighting">
      Code completion and highlighting
     </h3>
     <p id="r88k0l_117">
      The ki shell shows code completion options when you press
      <span class="control" id="r88k0l_121">
       Tab
      </span>
      . It also provides syntax highlighting as you type. You can disable this feature by entering
      <code class="code" id="r88k0l_122">
       :syntax off
      </code>
      .
     </p>
     <figure id="r88k0l_118">
      <img alt="ki shell highlighting and completion" height="120" src="images/ki-shell-highlight-completion.png" title="ki shell highlighting and completion" width="700"/>
     </figure>
     <p id="r88k0l_119">
      When you press
      <span class="control" id="r88k0l_123">
       Enter
      </span>
      , the ki shell evaluates the entered line and prints the result. Expression values are printed as variables with auto-generated names like
      <code class="code" id="r88k0l_124">
       res*
      </code>
      . You can later use such variables in the code you run. If the construct entered is incomplete (for example, an
      <code class="code" id="r88k0l_125">
       if
      </code>
      with a condition but without the body), the shell prints three dots and expects the remaining part.
     </p>
     <figure id="r88k0l_120">
      <img alt="ki shell results" height="130" src="images/ki-shell-results.png" title="ki shell results" width="700"/>
     </figure>
    </section>
    <section class="chapter">
     <h3 data-toc="check-an-expression-s-type" id="check-an-expression-s-type">
      Check an expression's type
     </h3>
     <p id="r88k0l_126">
      For complex expressions or APIs that you don't know well, the ki shell provides the
      <code class="code" id="r88k0l_128">
       :type
      </code>
      (or
      <code class="code" id="r88k0l_129">
       :t
      </code>
      ) command, which shows the type of an expression:
     </p>
     <figure id="r88k0l_127">
      <img alt="ki shell type" height="80" src="images/ki-shell-type.png" title="ki shell type" width="700"/>
     </figure>
    </section>
    <section class="chapter">
     <h3 data-toc="load-code" id="load-code">
      Load code
     </h3>
     <p id="r88k0l_130">
      If the code you need is stored somewhere else, there are two ways to load it and use it in the ki shell:
     </p>
     <ul class="list _bullet" id="r88k0l_131">
      <li class="list__item" id="r88k0l_134">
       <p>
        Load a source file with the
        <code class="code" id="r88k0l_136">
         :load
        </code>
        (or
        <code class="code" id="r88k0l_137">
         :l
        </code>
        ) command.
       </p>
      </li>
      <li class="list__item" id="r88k0l_135">
       <p>
        Copy and paste the code snippet in paste mode with the
        <code class="code" id="r88k0l_138">
         :paste
        </code>
        (or
        <code class="code" id="r88k0l_139">
         :p
        </code>
        ) command.
       </p>
      </li>
     </ul>
     <figure id="r88k0l_132">
      <img alt="ki shell load file" height="150" src="images/ki-shell-load.png" title="ki shell load file" width="700"/>
     </figure>
     <p id="r88k0l_133">
      The
      <code class="code" id="r88k0l_140">
       ls
      </code>
      command shows available symbols (variables and functions).
     </p>
    </section>
    <section class="chapter">
     <h3 data-toc="add-external-dependencies" id="add-external-dependencies">
      Add external dependencies
     </h3>
     <p id="r88k0l_141">
      Along with the standard library, the ki shell also supports external dependencies. This lets you try out third-party libraries in it without creating a whole project.
     </p>
     <p id="r88k0l_142">
      To add a third-party library in the ki shell, use the
      <code class="code" id="r88k0l_144">
       :dependsOn
      </code>
      command. By default, the ki shell works with Maven Central, but you can use other repositories if you connect them using the
      <code class="code" id="r88k0l_145">
       :repository
      </code>
      command:
     </p>
     <figure id="r88k0l_143">
      <img alt="ki shell external dependency" height="266" src="images/ki-shell-dependency.png" title="ki shell external dependency" width="700"/>
     </figure>
    </section>
   </section>
   <div class="last-modified">
    Last modified: 16 December 2024
   </div>
   <div data-feedback-placeholder="true">
   </div>
  </div>
 </body>
</html>
