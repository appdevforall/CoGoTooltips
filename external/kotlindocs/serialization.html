<html>
 <head>
  <meta charset="utf-8"/>
  <link href="doc_style.css" rel="stylesheet"/>
 </head>
 <body>
  <a class="menu-link" href="toc.html">
   MENU
  </a>
  <hr/>
  <div class="article-content">
   <h1 data-toc="serialization" id="serialization.md">
    Serialization
   </h1>
   <p id="-j3y1vr_2">
    <span class="emphasis" id="-j3y1vr_10">
     Serialization
    </span>
    is the process of converting data used by an application to a format that can be transferred over a network or stored in a database or a file. In turn,
    <span class="emphasis" id="-j3y1vr_11">
     deserialization
    </span>
    is the opposite process of reading data from an external source and converting it into a runtime object. Together, they are essential to most applications that exchange data with third parties.
   </p>
   <p id="-j3y1vr_3">
    Some data serialization formats, such as
    <a data-external="true" href="https://www.json.org/json-en.html" id="-j3y1vr_12" rel="noopener noreferrer">
     JSON
    </a>
    and
    <a data-external="true" href="https://developers.google.com/protocol-buffers" id="-j3y1vr_13" rel="noopener noreferrer">
     protocol buffers
    </a>
    are particularly common. Being language-neutral and platform-neutral, they enable data exchange between systems written in any modern language.
   </p>
   <p id="-j3y1vr_4">
    In Kotlin, data serialization tools are available in a separate component,
    <a data-external="true" href="https://github.com/Kotlin/kotlinx.serialization" id="-j3y1vr_14" rel="noopener noreferrer">
     kotlinx.serialization
    </a>
    . It consists of several parts: the
    <code class="code" id="-j3y1vr_15">
     org.jetbrains.kotlin.plugin.serialization
    </code>
    Gradle plugin,
    <a data-tooltip="kotlinx.serialization provides sets of libraries for all supported platforms – JVM, JavaScript, Native – and for various serialization formats – JSON, CBOR, protocol buffers, and others. You can find the complete list of supported serialization formats below." href="#libraries" id="-j3y1vr_16">
     runtime libraries
    </a>
    , and compiler plugins.
   </p>
   <p id="-j3y1vr_5">
    Compiler plugins,
    <code class="code" id="-j3y1vr_17">
     kotlinx-serialization-compiler-plugin
    </code>
    and
    <code class="code" id="-j3y1vr_18">
     kotlinx-serialization-compiler-plugin-embeddable
    </code>
    , are published directly to Maven Central. The second plugin is designed for working with the
    <code class="code" id="-j3y1vr_19">
     kotlin-compiler-embeddable
    </code>
    artifact, which is the default option for scripting artifacts. Gradle adds compiler plugins to your projects as compiler arguments.
   </p>
   <section class="chapter">
    <h2 data-toc="libraries" id="libraries">
     Libraries
    </h2>
    <p id="-j3y1vr_20">
     <code class="code" id="-j3y1vr_25">
      kotlinx.serialization
     </code>
     provides sets of libraries for all supported platforms – JVM, JavaScript, Native – and for various serialization formats – JSON, CBOR, protocol buffers, and others. You can find the complete list of supported serialization formats
     <a data-tooltip="kotlinx.serialization includes libraries for various serialization formats:" href="#formats" id="-j3y1vr_26">
      below
     </a>
     .
    </p>
    <p id="-j3y1vr_21">
     All Kotlin serialization libraries belong to the
     <code class="code" id="-j3y1vr_27">
      org.jetbrains.kotlinx:
     </code>
     group. Their names start with
     <code class="code" id="-j3y1vr_28">
      kotlinx-serialization-
     </code>
     and have suffixes that reflect the serialization format. Examples:
    </p>
    <ul class="list _bullet" id="-j3y1vr_22">
     <li class="list__item" id="-j3y1vr_29">
      <p>
       <code class="code" id="-j3y1vr_31">
        org.jetbrains.kotlinx:kotlinx-serialization-json
       </code>
       provides JSON serialization for Kotlin projects.
      </p>
     </li>
     <li class="list__item" id="-j3y1vr_30">
      <p>
       <code class="code" id="-j3y1vr_32">
        org.jetbrains.kotlinx:kotlinx-serialization-cbor
       </code>
       provides CBOR serialization.
      </p>
     </li>
    </ul>
    <p id="-j3y1vr_23">
     Platform-specific artifacts are handled automatically; you don't need to add them manually. Use the same dependencies in JVM, JS, Native, and multiplatform projects.
    </p>
    <p id="-j3y1vr_24">
     Note that the
     <code class="code" id="-j3y1vr_33">
      kotlinx.serialization
     </code>
     libraries use their own versioning structure, which doesn't match Kotlin's versioning. Check out the releases on
     <a data-external="true" href="https://github.com/Kotlin/kotlinx.serialization/releases" id="-j3y1vr_34" rel="noopener noreferrer">
      GitHub
     </a>
     to find the latest versions.
    </p>
   </section>
   <section class="chapter">
    <h2 data-toc="formats" id="formats">
     Formats
    </h2>
    <p id="-j3y1vr_35">
     <code class="code" id="-j3y1vr_39">
      kotlinx.serialization
     </code>
     includes libraries for various serialization formats:
    </p>
    <ul class="list _bullet" id="-j3y1vr_36">
     <li class="list__item" id="-j3y1vr_40">
      <p>
       <a data-external="true" href="https://www.json.org/" id="-j3y1vr_45" rel="noopener noreferrer">
        JSON
       </a>
       :
       <a data-external="true" href="https://github.com/Kotlin/kotlinx.serialization/blob/master/formats/README.md#json" id="-j3y1vr_46" rel="noopener noreferrer">
        <code class="code" id="-j3y1vr_47">
         kotlinx-serialization-json
        </code>
       </a>
      </p>
     </li>
     <li class="list__item" id="-j3y1vr_41">
      <p>
       <a data-external="true" href="https://developers.google.com/protocol-buffers" id="-j3y1vr_48" rel="noopener noreferrer">
        Protocol buffers
       </a>
       :
       <a data-external="true" href="https://github.com/Kotlin/kotlinx.serialization/blob/master/formats/README.md#protobuf" id="-j3y1vr_49" rel="noopener noreferrer">
        <code class="code" id="-j3y1vr_50">
         kotlinx-serialization-protobuf
        </code>
       </a>
      </p>
     </li>
     <li class="list__item" id="-j3y1vr_42">
      <p>
       <a data-external="true" href="https://cbor.io/" id="-j3y1vr_51" rel="noopener noreferrer">
        CBOR
       </a>
       :
       <a data-external="true" href="https://github.com/Kotlin/kotlinx.serialization/blob/master/formats/README.md#cbor" id="-j3y1vr_52" rel="noopener noreferrer">
        <code class="code" id="-j3y1vr_53">
         kotlinx-serialization-cbor
        </code>
       </a>
      </p>
     </li>
     <li class="list__item" id="-j3y1vr_43">
      <p>
       <a data-external="true" href="https://en.wikipedia.org/wiki/.properties" id="-j3y1vr_54" rel="noopener noreferrer">
        Properties
       </a>
       :
       <a data-external="true" href="https://github.com/Kotlin/kotlinx.serialization/blob/master/formats/README.md#properties" id="-j3y1vr_55" rel="noopener noreferrer">
        <code class="code" id="-j3y1vr_56">
         kotlinx-serialization-properties
        </code>
       </a>
      </p>
     </li>
     <li class="list__item" id="-j3y1vr_44">
      <p>
       <a data-external="true" href="https://github.com/lightbend/config/blob/master/HOCON.md" id="-j3y1vr_57" rel="noopener noreferrer">
        HOCON
       </a>
       :
       <a data-external="true" href="https://github.com/Kotlin/kotlinx.serialization/blob/master/formats/README.md#hocon" id="-j3y1vr_58" rel="noopener noreferrer">
        <code class="code" id="-j3y1vr_59">
         kotlinx-serialization-hocon
        </code>
       </a>
       (only on JVM)
      </p>
     </li>
    </ul>
    <p id="-j3y1vr_37">
     Note that all libraries except JSON serialization (
     <code class="code" id="-j3y1vr_60">
      kotlinx-serialization-json
     </code>
     ) are
     <a data-tooltip="The Kotlin language and toolset are divided into many components such as the compilers for the JVM, JS and Native targets, the Standard Library, various accompanying tools and so on. Many of these components were officially released as Stable, which means that they were evolved in a…" href="components-stability.html" id="-j3y1vr_61">
      Experimental
     </a>
     , which means their API can be changed without notice.
    </p>
    <p id="-j3y1vr_38">
     There are also community-maintained libraries that support more serialization formats, such as
     <a data-external="true" href="https://yaml.org/" id="-j3y1vr_62" rel="noopener noreferrer">
      YAML
     </a>
     or
     <a data-external="true" href="https://avro.apache.org/" id="-j3y1vr_63" rel="noopener noreferrer">
      Apache Avro
     </a>
     . For detailed information about available serialization formats, see the
     <a data-external="true" href="https://github.com/Kotlin/kotlinx.serialization/blob/master/formats/README.md" id="-j3y1vr_64" rel="noopener noreferrer">
      <code class="code" id="-j3y1vr_65">
       kotlinx.serialization
      </code>
      documentation
     </a>
     .
    </p>
   </section>
   <section class="chapter">
    <h2 data-toc="example-json-serialization" id="example-json-serialization">
     Example: JSON serialization
    </h2>
    <p id="-j3y1vr_66">
     Let's take a look at how to serialize Kotlin objects into JSON.
    </p>
    <section class="chapter">
     <h3 data-toc="add-plugins-and-dependencies" id="add-plugins-and-dependencies">
      Add plugins and dependencies
     </h3>
     <p id="-j3y1vr_69">
      Before starting, you must configure your build script so that you can use Kotlin serialization tools in your project:
     </p>
     <ol class="list _decimal" id="-j3y1vr_70" type="1">
      <li class="list__item" id="-j3y1vr_72">
       <p id="-j3y1vr_74">
        Apply the Kotlin serialization Gradle plugin
        <code class="code" id="-j3y1vr_76">
         org.jetbrains.kotlin.plugin.serialization
        </code>
        (or
        <code class="code" id="-j3y1vr_77">
         kotlin("plugin.serialization")
        </code>
        in the Kotlin Gradle DSL).
       </p>
       <div class="tabs" data-anchors="[-j3y1vr_78,-j3y1vr_79]" data-group="build-script" id="-j3y1vr_75">
        <div class="tabs__content" data-gtm="tab" data-sync-tabs="kotlin" data-title="Kotlin" id="-j3y1vr_78">
         <div class="code-block" data-lang="kotlin" data-title="Kotlin">
          plugins {
    kotlin("jvm") version "2.1.0"
    kotlin("plugin.serialization") version "2.1.0"
}
         </div>
        </div>
        <div class="tabs__content" data-gtm="tab" data-sync-tabs="groovy" data-title="Groovy" id="-j3y1vr_79">
         <div class="code-block" data-lang="groovy" data-title="Groovy">
          plugins {
    id 'org.jetbrains.kotlin.jvm' version '2.1.0'
    id 'org.jetbrains.kotlin.plugin.serialization' version '2.1.0'  
}
         </div>
        </div>
       </div>
      </li>
      <li class="list__item" id="-j3y1vr_73">
       <p id="-j3y1vr_82">
        Add the JSON serialization library dependency:
        <code class="code" id="-j3y1vr_84">
         org.jetbrains.kotlinx:kotlinx-serialization-json:1.7.3
        </code>
       </p>
       <div class="tabs" data-anchors="[-j3y1vr_85,-j3y1vr_86]" data-group="build-script" id="-j3y1vr_83">
        <div class="tabs__content" data-gtm="tab" data-sync-tabs="kotlin" data-title="Kotlin" id="-j3y1vr_85">
         <div class="code-block" data-lang="kotlin" data-title="Kotlin">
          dependencies {
    implementation("org.jetbrains.kotlinx:kotlinx-serialization-json:1.7.3")
}
         </div>
        </div>
        <div class="tabs__content" data-gtm="tab" data-sync-tabs="groovy" data-title="Groovy" id="-j3y1vr_86">
         <div class="code-block" data-lang="groovy" data-title="Groovy">
          dependencies {
    implementation 'org.jetbrains.kotlinx:kotlinx-serialization-json:1.7.3'
}
         </div>
        </div>
       </div>
      </li>
     </ol>
     <p id="-j3y1vr_71">
      Now you're ready to use the serialization API in your code. The API is located in the
      <code class="code" id="-j3y1vr_89">
       kotlinx.serialization
      </code>
      package and its format-specific subpackages, such as
      <code class="code" id="-j3y1vr_90">
       kotlinx.serialization.json
      </code>
      .
     </p>
    </section>
    <section class="chapter">
     <h3 data-toc="serialize-and-deserialize-json" id="serialize-and-deserialize-json">
      Serialize and deserialize JSON
     </h3>
     <ol class="list _decimal" id="-j3y1vr_91" type="1">
      <li class="list__item" id="-j3y1vr_100">
       <p>
        Make a class serializable by annotating it with
        <code class="code" id="-j3y1vr_101">
         @Serializable
        </code>
        .
       </p>
      </li>
     </ol>
     <div class="code-block" data-lang="kotlin">
      import kotlinx.serialization.Serializable

@Serializable
data class Data(val a: Int, val b: String)
     </div>
     <ol class="list _decimal" id="-j3y1vr_93" start="2" type="1">
      <li class="list__item" id="-j3y1vr_102">
       <p>
        Serialize an instance of this class by calling
        <code class="code" id="-j3y1vr_103">
         Json.encodeToString()
        </code>
        .
       </p>
      </li>
     </ol>
     <div class="code-block" data-lang="kotlin">
      import kotlinx.serialization.Serializable
import kotlinx.serialization.json.Json
import kotlinx.serialization.encodeToString

@Serializable
data class Data(val a: Int, val b: String)

fun main() {
   val json = Json.encodeToString(Data(42, "str"))
}
     </div>
     <p id="-j3y1vr_95">
      As a result, you get a string containing the state of this object in the JSON format:
      <code class="code" id="-j3y1vr_104">
       {"a": 42, "b": "str"}
      </code>
     </p>
     <aside class="prompt" data-title="" data-type="note" id="-j3y1vr_96">
      <p id="-j3y1vr_105">
       You can also serialize object collections, such as lists, in a single call:
      </p>
      <div class="code-block" data-lang="kotlin">
       val dataList = listOf(Data(42, "str"), Data(12, "test"))
val jsonList = Json.encodeToString(dataList)
      </div>
     </aside>
     <ol class="list _decimal" id="-j3y1vr_97" start="3" type="1">
      <li class="list__item" id="-j3y1vr_107">
       <p>
        Use the
        <code class="code" id="-j3y1vr_108">
         decodeFromString()
        </code>
        function to deserialize an object from JSON:
       </p>
      </li>
     </ol>
     <div class="code-block" data-lang="kotlin">
      import kotlinx.serialization.Serializable
import kotlinx.serialization.json.Json
import kotlinx.serialization.decodeFromString

@Serializable
data class Data(val a: Int, val b: String)

fun main() {
   val obj = Json.decodeFromString&lt;Data&gt;("""{"a":42, "b": "str"}""")
}
     </div>
     <p id="-j3y1vr_99">
      That's it! You have successfully serialized objects into JSON strings and deserialized them back into objects.
     </p>
    </section>
   </section>
   <section class="chapter">
    <h2 data-toc="what-s-next" id="what-s-next">
     What's next
    </h2>
    <p id="-j3y1vr_109">
     For more information about serialization in Kotlin, see the
     <a data-external="true" href="https://github.com/Kotlin/kotlinx.serialization/blob/master/docs/serialization-guide.md" id="-j3y1vr_112" rel="noopener noreferrer">
      Kotlin Serialization Guide
     </a>
     .
    </p>
    <p id="-j3y1vr_110">
     You can explore different aspects of Kotlin serialization in the following resources:
    </p>
    <ul class="list _bullet" id="-j3y1vr_111">
     <li class="list__item" id="-j3y1vr_113">
      <p>
       <a data-external="true" href="https://github.com/Kotlin/kotlinx.serialization/blob/master/docs/basic-serialization.md" id="-j3y1vr_119" rel="noopener noreferrer">
        Learn more about Kotlin serialization and its core concepts
       </a>
      </p>
     </li>
     <li class="list__item" id="-j3y1vr_114">
      <p>
       <a data-external="true" href="https://github.com/Kotlin/kotlinx.serialization/blob/master/docs/builtin-classes.md" id="-j3y1vr_120" rel="noopener noreferrer">
        Explore the built-in serializable classes of Kotlin
       </a>
      </p>
     </li>
     <li class="list__item" id="-j3y1vr_115">
      <p>
       <a data-external="true" href="https://github.com/Kotlin/kotlinx.serialization/blob/master/docs/serializers.md" id="-j3y1vr_121" rel="noopener noreferrer">
        Look at serializers in more detail and learn how to create custom serializers
       </a>
      </p>
     </li>
     <li class="list__item" id="-j3y1vr_116">
      <p>
       <a data-external="true" href="https://github.com/Kotlin/kotlinx.serialization/blob/master/docs/polymorphism.md#open-polymorphism" id="-j3y1vr_122" rel="noopener noreferrer">
        Discover how polymorphic serialization is handled in Kotlin
       </a>
      </p>
     </li>
     <li class="list__item" id="-j3y1vr_117">
      <p>
       <a data-external="true" href="https://github.com/Kotlin/kotlinx.serialization/blob/master/docs/json.md#json-elements" id="-j3y1vr_123" rel="noopener noreferrer">
        Look into the various JSON features handling Kotlin serialization
       </a>
      </p>
     </li>
     <li class="list__item" id="-j3y1vr_118">
      <p>
       <a data-external="true" href="https://github.com/Kotlin/kotlinx.serialization/blob/master/docs/formats.md" id="-j3y1vr_124" rel="noopener noreferrer">
        Learn more about the experimental serialization formats supported by Kotlin
       </a>
      </p>
     </li>
    </ul>
   </section>
   <div class="last-modified">
    Last modified: 16 December 2024
   </div>
   <div data-feedback-placeholder="true">
   </div>
  </div>
 </body>
</html>
