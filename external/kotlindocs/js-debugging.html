<html>
 <head>
  <meta charset="utf-8"/>
  <link href="doc_style.css" rel="stylesheet"/>
 </head>
 <body>
  <a class="menu-link" href="toc.html">
   MENU
  </a>
  <hr/>
  <div class="article-content">
   <h1 data-toc="js-debugging" id="js-debugging.md">
    Debug Kotlin/JS code
   </h1>
   <p id="rrwwhj_2">
    JavaScript source maps provide mappings between the minified code produced by bundlers or minifiers and the actual source code a developer works with. This way, the source maps enable support for debugging the code during its execution.
   </p>
   <p id="rrwwhj_3">
    The Kotlin Multiplatform Gradle plugin automatically generates source maps for the project builds, making them available without any additional configuration.
   </p>
   <section class="chapter">
    <h2 data-toc="debug-in-browser" id="debug-in-browser">
     Debug in browser
    </h2>
    <p id="rrwwhj_9">
     Most modern browsers provide tools that allow inspecting the page content and debugging the code that executes on it. Refer to your browser's documentation for more details.
    </p>
    <p id="rrwwhj_10">
     To debug Kotlin/JS in the browser:
    </p>
    <ol class="list _decimal" id="rrwwhj_11" type="1">
     <li class="list__item" id="rrwwhj_16">
      <p>
       Run the project by calling one of the available
       <span class="emphasis" id="rrwwhj_19">
        run
       </span>
       Gradle tasks, for example,
       <code class="code" id="rrwwhj_20">
        browserDevelopmentRun
       </code>
       or
       <code class="code" id="rrwwhj_21">
        jsBrowserDevelopmentRun
       </code>
       in a multiplatform project. Learn more about
       <a data-tooltip="When targeting the browser, your project is required to have an HTML page. This page will be served by the development server while you are working on your application, and should embed your compiled Kotlin/JS file. Create and fill an HTML file /src/jsMain/resources/index.html:" href="running-kotlin-js.html#run-the-browser-target" id="rrwwhj_22">
        running Kotlin/JS
       </a>
       .
      </p>
     </li>
     <li class="list__item" id="rrwwhj_17">
      <p>
       Navigate to the page in the browser and launch its developer tools (for example, by right-clicking and selecting the
       <span class="control" id="rrwwhj_23">
        Inspect
       </span>
       action). Learn how to
       <a data-external="true" href="https://balsamiq.com/support/faqs/browserconsole/" id="rrwwhj_24" rel="noopener noreferrer">
        find the developer tools
       </a>
       in popular browsers.
      </p>
     </li>
     <li class="list__item" id="rrwwhj_18">
      <p>
       If your program is logging information to the console, navigate to the
       <span class="control" id="rrwwhj_25">
        Console
       </span>
       tab to see this output. Depending on your browser, these logs can reference the Kotlin source files and lines they come from:
      </p>
     </li>
    </ol>
    <figure id="rrwwhj_12">
     <img alt="Chrome DevTools console" height="348" src="images/devtools-console.png" title="Chrome DevTools console" width="600"/>
    </figure>
    <ol class="list _decimal" id="rrwwhj_13" start="4" type="1">
     <li class="list__item" id="rrwwhj_26">
      <p>
       Click the file reference on the right to navigate to the corresponding line of code. Alternatively, you can manually switch to the
       <span class="control" id="rrwwhj_27">
        Sources
       </span>
       tab and find the file you need in the file tree. Navigating to the Kotlin file shows you the regular Kotlin code (as opposed to minified JavaScript):
      </p>
     </li>
    </ol>
    <figure id="rrwwhj_14">
     <img alt="Debugging in Chrome DevTools" height="611" src="images/devtools-sources.png" title="Debugging in Chrome DevTools" width="600"/>
    </figure>
    <p id="rrwwhj_15">
     You can now start debugging the program. Set a breakpoint by clicking on one of the line numbers. The developer tools even support setting breakpoints within a statement. As with regular JavaScript code, any set breakpoints will persist across page reloads. This also makes it possible to debug Kotlin's
     <code class="code" id="rrwwhj_28">
      main()
     </code>
     method which is executed when the script is loaded for the first time.
    </p>
   </section>
   <section class="chapter">
    <h2 data-toc="debug-in-the-ide" id="debug-in-the-ide">
     Debug in the IDE
    </h2>
    <p id="rrwwhj_29">
     <a data-external="true" href="https://www.jetbrains.com/idea/" id="rrwwhj_43" rel="noopener noreferrer">
      IntelliJ IDEA Ultimate
     </a>
     provides a powerful set of tools for debugging code during development.
    </p>
    <p id="rrwwhj_30">
     For debugging Kotlin/JS in IntelliJ IDEA, you'll need a
     <span class="control" id="rrwwhj_44">
      JavaScript Debug
     </span>
     configuration. To add such a debug configuration:
    </p>
    <ol class="list _decimal" id="rrwwhj_31" type="1">
     <li class="list__item" id="rrwwhj_45">
      <p>
       Go to
       <span class="control" id="rrwwhj_48">
        Run | Edit Configurations
       </span>
       .
      </p>
     </li>
     <li class="list__item" id="rrwwhj_46">
      <p>
       Click
       <span class="control" id="rrwwhj_49">
        +
       </span>
       and select
       <span class="control" id="rrwwhj_50">
        JavaScript Debug
       </span>
       .
      </p>
     </li>
     <li class="list__item" id="rrwwhj_47">
      <p>
       Specify the configuration
       <span class="control" id="rrwwhj_51">
        Name
       </span>
       and provide the
       <span class="control" id="rrwwhj_52">
        URL
       </span>
       on which the project runs (
       <code class="code" id="rrwwhj_53">
        http://localhost:8080
       </code>
       by default).
      </p>
     </li>
    </ol>
    <figure id="rrwwhj_32">
     <img alt="JavaScript debug configuration" height="553" src="images/debug-config.png" title="JavaScript debug configuration" width="700"/>
    </figure>
    <ol class="list _decimal" id="rrwwhj_33" start="4" type="1">
     <li class="list__item" id="rrwwhj_54">
      <p>
       Save the configuration.
      </p>
     </li>
    </ol>
    <p id="rrwwhj_34">
     Learn more about
     <a data-external="true" href="https://www.jetbrains.com/help/idea/configuring-javascript-debugger.html" id="rrwwhj_55" rel="noopener noreferrer">
      setting up JavaScript debug configurations
     </a>
     .
    </p>
    <p id="rrwwhj_35">
     Now you're ready to debug your project!
    </p>
    <ol class="list _decimal" id="rrwwhj_36" type="1">
     <li class="list__item" id="rrwwhj_56">
      <p>
       Run the project by calling one of the available
       <span class="emphasis" id="rrwwhj_58">
        run
       </span>
       Gradle tasks, for example,
       <code class="code" id="rrwwhj_59">
        browserDevelopmentRun
       </code>
       or
       <code class="code" id="rrwwhj_60">
        jsBrowserDevelopmentRun
       </code>
       in a multiplatform project. Learn more about
       <a data-tooltip="When targeting the browser, your project is required to have an HTML page. This page will be served by the development server while you are working on your application, and should embed your compiled Kotlin/JS file. Create and fill an HTML file /src/jsMain/resources/index.html:" href="running-kotlin-js.html#run-the-browser-target" id="rrwwhj_61">
        running Kotlin/JS
       </a>
       .
      </p>
     </li>
     <li class="list__item" id="rrwwhj_57">
      <p>
       Start the debugging session by running the JavaScript debug configuration you've created previously:
      </p>
     </li>
    </ol>
    <figure id="rrwwhj_37">
     <img alt="JavaScript debug configuration" height="427" src="images/debug-config-run.png" title="JavaScript debug configuration" width="700"/>
    </figure>
    <ol class="list _decimal" id="rrwwhj_38" start="3" type="1">
     <li class="list__item" id="rrwwhj_62">
      <p>
       You can see the console output of your program in the
       <span class="control" id="rrwwhj_63">
        Debug
       </span>
       window in IntelliJ IDEA. The output items reference the Kotlin source files and lines they come from:
      </p>
     </li>
    </ol>
    <figure id="rrwwhj_39">
     <img alt="JavaScript debug output in the IDE" height="427" src="images/ide-console-output.png" title="JavaScript debug output in the IDE" width="700"/>
    </figure>
    <ol class="list _decimal" id="rrwwhj_40" start="4" type="1">
     <li class="list__item" id="rrwwhj_64">
      <p>
       Click the file reference on the right to navigate to the corresponding line of code.
      </p>
     </li>
    </ol>
    <p id="rrwwhj_41">
     You can now start debugging the program using the whole set of tools that the IDE offers: breakpoints, stepping, expression evaluation, and more. Learn more about
     <a data-external="true" href="https://www.jetbrains.com/help/idea/debugging-javascript-in-chrome.html" id="rrwwhj_65" rel="noopener noreferrer">
      debugging in IntelliJ IDEA
     </a>
     .
    </p>
    <aside class="prompt" data-title="" data-type="note" id="rrwwhj_42">
     <p id="rrwwhj_66">
      Because of the limitations of the current JavaScript debugger in IntelliJ IDEA, you may need to rerun the JavaScript debug to make the execution stop on breakpoints.
     </p>
    </aside>
   </section>
   <section class="chapter">
    <h2 data-toc="debug-in-node-js" id="debug-in-node-js">
     Debug in Node.js
    </h2>
    <p id="rrwwhj_67">
     If your project targets Node.js, you can debug it in this runtime.
    </p>
    <p id="rrwwhj_68">
     To debug a Kotlin/JS application targeting Node.js:
    </p>
    <ol class="list _decimal" id="rrwwhj_69" type="1">
     <li class="list__item" id="rrwwhj_70">
      <p>
       Build the project by running the
       <code class="code" id="rrwwhj_73">
        build
       </code>
       Gradle task.
      </p>
     </li>
     <li class="list__item" id="rrwwhj_71">
      <p>
       Find the resulting
       <code class="code" id="rrwwhj_74">
        .js
       </code>
       file for Node.js in the
       <code class="code" id="rrwwhj_75">
        build/js/packages/your-module/kotlin/
       </code>
       directory inside your project's directory.
      </p>
     </li>
     <li class="list__item" id="rrwwhj_72">
      <p>
       Debug it in Node.js as described in the
       <a data-external="true" href="https://nodejs.org/en/docs/guides/debugging-getting-started/#jetbrains-webstorm-2017-1-and-other-jetbrains-ides" id="rrwwhj_76" rel="noopener noreferrer">
        Node.js Debugging Guide
       </a>
       .
      </p>
     </li>
    </ol>
   </section>
   <section class="chapter">
    <h2 data-toc="what-s-next" id="what-s-next">
     What's next?
    </h2>
    <p id="rrwwhj_77">
     Now that you know how to start debug sessions with your Kotlin/JS project, learn to make efficient use of the debugging tools:
    </p>
    <ul class="list _bullet" id="rrwwhj_78">
     <li class="list__item" id="rrwwhj_79">
      <p>
       Learn how to
       <a data-external="true" href="https://developer.chrome.com/docs/devtools/javascript/" id="rrwwhj_82" rel="noopener noreferrer">
        debug JavaScript in Google Chrome
       </a>
      </p>
     </li>
     <li class="list__item" id="rrwwhj_80">
      <p>
       Get familiar with
       <a data-external="true" href="https://www.jetbrains.com/help/idea/debugging-javascript-in-chrome.html" id="rrwwhj_83" rel="noopener noreferrer">
        IntelliJ IDEA JavaScript debugger
       </a>
      </p>
     </li>
     <li class="list__item" id="rrwwhj_81">
      <p>
       Learn how to
       <a data-external="true" href="https://nodejs.org/en/docs/guides/debugging-getting-started/" id="rrwwhj_84" rel="noopener noreferrer">
        debug in Node.js
       </a>
       .
      </p>
     </li>
    </ul>
   </section>
   <section class="chapter">
    <h2 data-toc="if-you-run-into-any-problems" id="if-you-run-into-any-problems">
     If you run into any problems
    </h2>
    <p id="rrwwhj_85">
     If you face any issues with debugging Kotlin/JS, please report them to our issue tracker,
     <a data-external="true" href="https://kotl.in/issue" id="rrwwhj_86" rel="noopener noreferrer">
      YouTrack
     </a>
    </p>
   </section>
   <div class="last-modified">
    Last modified: 16 December 2024
   </div>
   <div data-feedback-placeholder="true">
   </div>
  </div>
 </body>
</html>
