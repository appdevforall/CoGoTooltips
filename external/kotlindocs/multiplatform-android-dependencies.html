<html>
 <head>
  <meta charset="utf-8"/>
  <link href="doc_style.css" rel="stylesheet"/>
 </head>
 <body>
  <a class="menu-link" href="toc.html">
   MENU
  </a>
  <hr/>
  <div class="article-content">
   <h1 data-toc="multiplatform-android-dependencies" id="multiplatform-android-dependencies.md">
    Adding Android dependencies
   </h1>
   <p id="v1a315_2">
    The workflow for adding Android-specific dependencies to a Kotlin Multiplatform module is the same as it is for pure Android projects: declare the dependency in your Gradle file and import the project. After that, you can use this dependency in your Kotlin code.
   </p>
   <p id="v1a315_3">
    We recommend declaring Android dependencies in Kotlin Multiplatform projects by adding them to a specific Android source set. For that, update your
    <code class="code" id="v1a315_10">
     build.gradle(.kts)
    </code>
    file in the
    <code class="code" id="v1a315_11">
     shared
    </code>
    directory of your project:
   </p>
   <div class="tabs" data-anchors="[v1a315_12,v1a315_13]" data-group="build-script" id="v1a315_4">
    <div class="tabs__content" data-gtm="tab" data-sync-tabs="kotlin" data-title="Kotlin" id="v1a315_12">
     <div class="code-block" data-lang="kotlin" data-title="Kotlin">
      sourceSets {
    androidMain.dependencies {
        implementation("com.example.android:app-magic:12.3")
    }
}
     </div>
    </div>
    <div class="tabs__content" data-gtm="tab" data-sync-tabs="groovy" data-title="Groovy" id="v1a315_13">
     <div class="code-block" data-lang="groovy" data-title="Groovy">
      sourceSets {
    androidMain {
        dependencies {
            implementation 'com.example.android:app-magic:12.3'
        }
    }
}
     </div>
    </div>
   </div>
   <p id="v1a315_5">
    Moving what was a top-level dependency in an Android project to a specific source set in a multiplatform project might be difficult if the top-level dependency had a non-trivial configuration name. For example, to move a
    <code class="code" id="v1a315_16">
     debugImplementation
    </code>
    dependency from the top level of an Android project, you'll need to add an implementation dependency to the source set named
    <code class="code" id="v1a315_17">
     androidDebug
    </code>
    . To minimize the effort you have to put in to deal with migration problems like this, you can add a
    <code class="code" id="v1a315_18">
     dependencies {}
    </code>
    block inside the
    <code class="code" id="v1a315_19">
     androidTarget {}
    </code>
    block:
   </p>
   <div class="tabs" data-anchors="[v1a315_20,v1a315_21]" data-group="build-script" id="v1a315_6">
    <div class="tabs__content" data-gtm="tab" data-sync-tabs="kotlin" data-title="Kotlin" id="v1a315_20">
     <div class="code-block" data-lang="kotlin" data-title="Kotlin">
      androidTarget {
    //...
    dependencies {
        implementation("com.example.android:app-magic:12.3")
    }
}
     </div>
    </div>
    <div class="tabs__content" data-gtm="tab" data-sync-tabs="groovy" data-title="Groovy" id="v1a315_21">
     <div class="code-block" data-lang="groovy" data-title="Groovy">
      androidTarget {
    //...
    dependencies {
        implementation 'com.example.android:app-magic:12.3'
    }
}
     </div>
    </div>
   </div>
   <p id="v1a315_7">
    Dependencies declared here will be treated exactly the same as dependencies from the top-level block, but declaring them this way will also separate Android dependencies visually in your build script and make it less confusing.
   </p>
   <p id="v1a315_8">
    Putting dependencies into a standalone
    <code class="code" id="v1a315_24">
     dependencies {}
    </code>
    block at the end of the script, in a way that is idiomatic to Android projects, is also supported. However, we strongly recommend
    <span class="control" id="v1a315_25">
     against
    </span>
    doing this because configuring a build script with Android dependencies in the top-level block and other target dependencies in each source set is likely to cause confusion.
   </p>
   <section class="chapter">
    <h2 data-toc="what-s-next" id="what-s-next">
     What's next?
    </h2>
    <p id="v1a315_26">
     Check out other resources on adding dependencies in multiplatform projects and learn more about:
    </p>
    <ul class="list _bullet" id="v1a315_27">
     <li class="list__item" id="v1a315_28">
      <p>
       <a data-external="true" href="https://developer.android.com/studio/build/dependencies" id="v1a315_31" rel="noopener noreferrer">
        Adding dependencies in the official Android documentation
       </a>
      </p>
     </li>
     <li class="list__item" id="v1a315_29">
      <p>
       <a data-tooltip="Every program requires a set of libraries to operate successfully. A Kotlin Multiplatform project can depend on multiplatform libraries that work for all target platforms, platform-specific libraries, and other multiplatform projects." href="multiplatform-add-dependencies.html" id="v1a315_32">
        Adding dependencies on multiplatform libraries or other multiplatform projects
       </a>
      </p>
     </li>
     <li class="list__item" id="v1a315_30">
      <p>
       <a data-tooltip="Apple SDK dependencies (such as Foundation or Core Bluetooth) are available as a set of prebuilt libraries in Kotlin Multiplatform projects. They do not require any additional configuration." href="multiplatform-ios-dependencies.html" id="v1a315_33">
        Adding iOS dependencies
       </a>
      </p>
     </li>
    </ul>
   </section>
   <div class="last-modified">
    Last modified: 16 December 2024
   </div>
   <div data-feedback-placeholder="true">
   </div>
  </div>
 </body>
</html>
