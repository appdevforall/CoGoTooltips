<html>
 <head>
  <meta charset="utf-8"/>
  <link href="doc_style.css" rel="stylesheet"/>
 </head>
 <body>
  <a class="menu-link" href="toc.html">
   MENU
  </a>
  <hr/>
  <div class="article-content">
   <h1 data-toc="collection-operations" id="collection-operations.md">
    Collection operations overview
   </h1>
   <p id="-4zdkdu_2">
    The Kotlin standard library offers a broad variety of functions for performing operations on collections. This includes simple operations, such as getting or adding elements, as well as more complex ones including search, sorting, filtering, transformations, and so on.
   </p>
   <section class="chapter">
    <h2 data-toc="extension-and-member-functions" id="extension-and-member-functions">
     Extension and member functions
    </h2>
    <p id="-4zdkdu_6">
     Collection operations are declared in the standard library in two ways:
     <a data-tooltip="Classes can contain:" href="classes.html#class-members" id="-4zdkdu_10">
      member functions
     </a>
     of collection interfaces and
     <a data-tooltip="To declare an extension function, prefix its name with a receiver type, which refers to the type being extended. The following adds a swap function to MutableList&lt;Int&gt;:" href="extensions.html#extension-functions" id="-4zdkdu_11">
      extension functions
     </a>
     .
    </p>
    <p id="-4zdkdu_7">
     Member functions define operations that are essential for a collection type. For example,
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-collection/index.html" id="-4zdkdu_12" rel="noopener noreferrer">
      <code class="code" id="-4zdkdu_16">
       Collection
      </code>
     </a>
     contains the function
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-collection/is-empty.html" id="-4zdkdu_13" rel="noopener noreferrer">
      <code class="code" id="-4zdkdu_17">
       isEmpty()
      </code>
     </a>
     for checking its emptiness;
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html" id="-4zdkdu_14" rel="noopener noreferrer">
      <code class="code" id="-4zdkdu_18">
       List
      </code>
     </a>
     contains
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/get.html" id="-4zdkdu_15" rel="noopener noreferrer">
      <code class="code" id="-4zdkdu_19">
       get()
      </code>
     </a>
     for index access to elements, and so on.
    </p>
    <p id="-4zdkdu_8">
     When you create your own implementations of collection interfaces, you must implement their member functions. To make the creation of new implementations easier, use the skeletal implementations of collection interfaces from the standard library:
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-abstract-collection/index.html" id="-4zdkdu_20" rel="noopener noreferrer">
      <code class="code" id="-4zdkdu_24">
       AbstractCollection
      </code>
     </a>
     ,
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-abstract-list/index.html" id="-4zdkdu_21" rel="noopener noreferrer">
      <code class="code" id="-4zdkdu_25">
       AbstractList
      </code>
     </a>
     ,
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-abstract-set/index.html" id="-4zdkdu_22" rel="noopener noreferrer">
      <code class="code" id="-4zdkdu_26">
       AbstractSet
      </code>
     </a>
     ,
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-abstract-map/index.html" id="-4zdkdu_23" rel="noopener noreferrer">
      <code class="code" id="-4zdkdu_27">
       AbstractMap
      </code>
     </a>
     , and their mutable counterparts.
    </p>
    <p id="-4zdkdu_9">
     Other collection operations are declared as extension functions. These are filtering, transformation, ordering, and other collection processing functions.
    </p>
   </section>
   <section class="chapter">
    <h2 data-toc="common-operations" id="common-operations">
     Common operations
    </h2>
    <p id="-4zdkdu_28">
     Common operations are available for both
     <a data-tooltip="The Kotlin Standard Library provides implementations for basic collection types: sets, lists, and maps. A pair of interfaces represent each collection type:" href="collections-overview.html#collection-types" id="-4zdkdu_37">
      read-only and mutable collections
     </a>
     . Common operations fall into these groups:
    </p>
    <ul class="list _bullet" id="-4zdkdu_29">
     <li class="list__item" id="-4zdkdu_38">
      <p>
       <a data-tooltip="The Kotlin standard library provides a set of extension functions for collection transformations. These functions build new collections from existing ones based on the transformation rules provided. In this page, we'll give an overview of the available collection transformation…" href="collection-transformations.html" id="-4zdkdu_46">
        Transformations
       </a>
      </p>
     </li>
     <li class="list__item" id="-4zdkdu_39">
      <p>
       <a data-tooltip="Filtering is one of the most popular tasks in collection processing. In Kotlin, filtering conditions are defined by predicates – lambda functions that take a collection element and return a boolean value: true means that the given element matches the predicate, false means the…" href="collection-filtering.html" id="-4zdkdu_47">
        Filtering
       </a>
      </p>
     </li>
     <li class="list__item" id="-4zdkdu_40">
      <p>
       <a data-tooltip="In Kotlin, plus (+) and minus (-) operators are defined for collections. They take a collection as the first operand; the second operand can be either an element or another collection. The return value is a new read-only collection:" href="collection-plus-minus.html" id="-4zdkdu_48">
        <code class="code" id="-4zdkdu_49">
         plus
        </code>
        and
        <code class="code" id="-4zdkdu_50">
         minus
        </code>
        operators
       </a>
      </p>
     </li>
     <li class="list__item" id="-4zdkdu_41">
      <p>
       <a data-tooltip="The Kotlin standard library provides extension functions for grouping collection elements. The basic function groupBy() takes a lambda function and returns a Map. In this map, each key is the lambda result, and the corresponding value is the List of elements on which this result is…" href="collection-grouping.html" id="-4zdkdu_51">
        Grouping
       </a>
      </p>
     </li>
     <li class="list__item" id="-4zdkdu_42">
      <p>
       <a data-tooltip="The Kotlin standard library contains extension functions for retrieving parts of a collection. These functions provide a variety of ways to select elements for the result collection: listing their positions explicitly, specifying the result size, and others." href="collection-parts.html" id="-4zdkdu_52">
        Retrieving collection parts
       </a>
      </p>
     </li>
     <li class="list__item" id="-4zdkdu_43">
      <p>
       <a data-tooltip="Kotlin collections provide a set of functions for retrieving single elements from collections. Functions described on this page apply to both lists and sets." href="collection-elements.html" id="-4zdkdu_53">
        Retrieving single elements
       </a>
      </p>
     </li>
     <li class="list__item" id="-4zdkdu_44">
      <p>
       <a data-tooltip="The order of elements is an important aspect of certain collection types. For example, two lists of the same elements are not equal if their elements are ordered differently." href="collection-ordering.html" id="-4zdkdu_54">
        Ordering
       </a>
      </p>
     </li>
     <li class="list__item" id="-4zdkdu_45">
      <p>
       <a data-tooltip="Kotlin collections contain functions for commonly used aggregate operations – operations that return a single value based on the collection content. Most of them are well known and work the same way as they do in other languages:" href="collection-aggregate.html" id="-4zdkdu_55">
        Aggregate operations
       </a>
      </p>
     </li>
    </ul>
    <p id="-4zdkdu_30">
     Operations described on these pages return their results without affecting the original collection. For example, a filtering operation produces a
     <span class="emphasis" id="-4zdkdu_56">
      new collection
     </span>
     that contains all the elements matching the filtering predicate. Results of such operations should be either stored in variables, or used in some other way, for example, passed in other functions.
    </p>
    <div class="code-block" data-lang="kotlin" data-min-compiler-version="1.3" data-runnable="true">
     fun main() {
//sampleStart
    val numbers = listOf("one", "two", "three", "four")  
    numbers.filter { it.length &gt; 3 }  // nothing happens with `numbers`, result is lost
    println("numbers are still $numbers")
    val longerThan3 = numbers.filter { it.length &gt; 3 } // result is stored in `longerThan3`
    println("numbers longer than 3 chars are $longerThan3")
//sampleEnd
}
    </div>
    <p id="-4zdkdu_32">
     For certain collection operations, there is an option to specify the
     <span class="emphasis" id="-4zdkdu_57">
      destination
     </span>
     object. Destination is a mutable collection to which the function appends its resulting items instead of returning them in a new object. For performing operations with destinations, there are separate functions with the
     <code class="code" id="-4zdkdu_58">
      To
     </code>
     postfix in their names, for example,
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/filter-to.html" id="-4zdkdu_59" rel="noopener noreferrer">
      <code class="code" id="-4zdkdu_63">
       filterTo()
      </code>
     </a>
     instead of
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/filter.html" id="-4zdkdu_60" rel="noopener noreferrer">
      <code class="code" id="-4zdkdu_64">
       filter()
      </code>
     </a>
     or
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/associate-to.html" id="-4zdkdu_61" rel="noopener noreferrer">
      <code class="code" id="-4zdkdu_65">
       associateTo()
      </code>
     </a>
     instead of
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/associate.html" id="-4zdkdu_62" rel="noopener noreferrer">
      <code class="code" id="-4zdkdu_66">
       associate()
      </code>
     </a>
     . These functions take the destination collection as an additional parameter.
    </p>
    <div class="code-block" data-lang="kotlin" data-min-compiler-version="1.3" data-runnable="true">
     fun main() {
//sampleStart
    val numbers = listOf("one", "two", "three", "four")
    val filterResults = mutableListOf&lt;String&gt;()  //destination object
    numbers.filterTo(filterResults) { it.length &gt; 3 }
    numbers.filterIndexedTo(filterResults) { index, _ -&gt; index == 0 }
    println(filterResults) // contains results of both operations
//sampleEnd
}
    </div>
    <p id="-4zdkdu_34">
     For convenience, these functions return the destination collection back, so you can create it right in the corresponding argument of the function call:
    </p>
    <div class="code-block" data-lang="kotlin" data-min-compiler-version="1.3" data-runnable="true">
     fun main() {
    val numbers = listOf("one", "two", "three", "four")
//sampleStart
    // filter numbers right into a new hash set, 
    // thus eliminating duplicates in the result
    val result = numbers.mapTo(HashSet()) { it.length }
    println("distinct item lengths are $result")
//sampleEnd
}
    </div>
    <p id="-4zdkdu_36">
     Functions with destination are available for filtering, association, grouping, flattening, and other operations. For the complete list of destination operations see the
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/index.html" id="-4zdkdu_67" rel="noopener noreferrer">
      Kotlin collections reference
     </a>
     .
    </p>
   </section>
   <section class="chapter">
    <h2 data-toc="write-operations" id="write-operations">
     Write operations
    </h2>
    <p id="-4zdkdu_68">
     For mutable collections, there are also
     <span class="emphasis" id="-4zdkdu_71">
      write operations
     </span>
     that change the collection state. Such operations include adding, removing, and updating elements. Write operations are listed in the
     <a data-tooltip="Mutable collections support operations for changing the collection contents, for example, adding or removing elements. On this page, we'll describe write operations available for all implementations of MutableCollection. For more specific operations available for List and Map, see…" href="collection-write.html" id="-4zdkdu_72">
      Write operations
     </a>
     and corresponding sections of
     <a data-tooltip="In addition to the collection modification operations described in Collection write operations, mutable lists support specific write operations. Such operations use the index to access elements to broaden the list modification capabilities." href="list-operations.html#list-write-operations" id="-4zdkdu_73">
      List-specific operations
     </a>
     and
     <a data-tooltip="Mutable maps offer map-specific write operations. These operations let you change the map content using the key-based access to the values." href="map-operations.html#map-write-operations" id="-4zdkdu_74">
      Map specific operations
     </a>
     .
    </p>
    <p id="-4zdkdu_69">
     For certain operations, there are pairs of functions for performing the same operation: one applies the operation in-place and the other returns the result as a separate collection. For example,
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/sort.html" id="-4zdkdu_75" rel="noopener noreferrer">
      <code class="code" id="-4zdkdu_77">
       sort()
      </code>
     </a>
     sorts a mutable collection in-place, so its state changes;
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/sorted.html" id="-4zdkdu_76" rel="noopener noreferrer">
      <code class="code" id="-4zdkdu_78">
       sorted()
      </code>
     </a>
     creates a new collection that contains the same elements in the sorted order.
    </p>
    <div class="code-block" data-lang="kotlin" data-min-compiler-version="1.3" data-runnable="true">
     fun main() {
//sampleStart
    val numbers = mutableListOf("one", "two", "three", "four")
    val sortedNumbers = numbers.sorted()
    println(numbers == sortedNumbers)  // false
    numbers.sort()
    println(numbers == sortedNumbers)  // true
//sampleEnd
}
    </div>
   </section>
   <div class="last-modified">
    Last modified: 16 December 2024
   </div>
   <div data-feedback-placeholder="true">
   </div>
  </div>
 </body>
</html>
