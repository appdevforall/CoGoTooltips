<html>
 <head>
  <meta charset="utf-8"/>
  <link href="doc_style.css" rel="stylesheet"/>
 </head>
 <body>
  <a class="menu-link" href="toc.html">
   MENU
  </a>
  <hr/>
  <div class="article-content">
   <h1 data-toc="js-reflection" id="js-reflection.md">
    Kotlin/JS reflection
   </h1>
   <p id="pvfioq_2">
    Kotlin/JS provides a limited support for the Kotlin
    <a data-tooltip="Reflection is a set of language and library features that allows you to introspect the structure of your program at runtime. Functions and properties are first-class citizens in Kotlin, and the ability to introspect them (for example, learning the name or the type of a property orâ€¦" href="reflection.html" id="pvfioq_8">
     reflection API
    </a>
    . The only supported parts of the API are:
   </p>
   <ul class="list _bullet" id="pvfioq_3">
    <li class="list__item" id="pvfioq_9">
     <p>
      <a data-tooltip="The most basic reflection feature is getting the runtime reference to a Kotlin class. To obtain the reference to a statically known Kotlin class, you can use the class literal syntax:" href="reflection.html#class-references" id="pvfioq_12">
       Class references
      </a>
      (
      <code class="code" id="pvfioq_13">
       ::class
      </code>
      )
     </p>
    </li>
    <li class="list__item" id="pvfioq_10">
     <p>
      <a data-tooltip="The typeof() function constructs an instance of KType for a given type. The KType API is fully supported in Kotlin/JS except for Java-specific parts." href="#ktype-and-typeof" id="pvfioq_14">
       <code class="code" id="pvfioq_15">
        KType
       </code>
       and
       <code class="code" id="pvfioq_16">
        typeof()
       </code>
      </a>
     </p>
    </li>
    <li class="list__item" id="pvfioq_11">
     <p>
      <a data-tooltip="The createInstance() function from the KClass interface creates a new instance of the specified class, which is useful for getting the runtime reference to a Kotlin class." href="#kclass-and-createinstance" id="pvfioq_17">
       <code class="code" id="pvfioq_18">
        KClass
       </code>
       and
       <code class="code" id="pvfioq_19">
        createInstance()
       </code>
      </a>
     </p>
    </li>
   </ul>
   <section class="chapter">
    <h2 data-toc="class-references" id="class-references">
     Class references
    </h2>
    <p id="pvfioq_20">
     The
     <code class="code" id="pvfioq_23">
      ::class
     </code>
     syntax returns a reference to the class of an instance, or the class corresponding to the given type. In Kotlin/JS, the value of a
     <code class="code" id="pvfioq_24">
      ::class
     </code>
     expression is a stripped-down
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/" id="pvfioq_25" rel="noopener noreferrer">
      KClass
     </a>
     implementation that supports only:
    </p>
    <ul class="list _bullet" id="pvfioq_21">
     <li class="list__item" id="pvfioq_26">
      <p>
       <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/simple-name.html" id="pvfioq_28" rel="noopener noreferrer">
        simpleName
       </a>
       and
       <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/is-instance.html" id="pvfioq_29" rel="noopener noreferrer">
        isInstance()
       </a>
       members.
      </p>
     </li>
     <li class="list__item" id="pvfioq_27">
      <p>
       <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/cast.html" id="pvfioq_30" rel="noopener noreferrer">
        cast()
       </a>
       and
       <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/safe-cast.html" id="pvfioq_31" rel="noopener noreferrer">
        safeCast()
       </a>
       extension functions.
      </p>
     </li>
    </ul>
    <p id="pvfioq_22">
     In addition to that, you can use
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.js/js.html" id="pvfioq_32" rel="noopener noreferrer">
      KClass.js
     </a>
     to access the
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.js/-js-class/index.html" id="pvfioq_33" rel="noopener noreferrer">
      JsClass
     </a>
     instance corresponding to the class. The
     <code class="code" id="pvfioq_34">
      JsClass
     </code>
     instance itself is a reference to the constructor function. This can be used to interoperate with JS functions that expect a reference to a constructor.
    </p>
   </section>
   <section class="chapter">
    <h2 data-toc="ktype-and-typeof" id="ktype-and-typeof">
     KType and typeOf()
    </h2>
    <p id="pvfioq_35">
     The
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/type-of.html" id="pvfioq_36" rel="noopener noreferrer">
      <code class="code" id="pvfioq_39">
       typeof()
      </code>
     </a>
     function constructs an instance of
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-type/" id="pvfioq_37" rel="noopener noreferrer">
      <code class="code" id="pvfioq_40">
       KType
      </code>
     </a>
     for a given type. The
     <code class="code" id="pvfioq_38">
      KType
     </code>
     API is fully supported in Kotlin/JS except for Java-specific parts.
    </p>
   </section>
   <section class="chapter">
    <h2 data-toc="kclass-and-createinstance" id="kclass-and-createinstance">
     KClass and createInstance()
    </h2>
    <p id="pvfioq_41">
     The
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/create-instance.html" id="pvfioq_42" rel="noopener noreferrer">
      <code class="code" id="pvfioq_44">
       createInstance()
      </code>
     </a>
     function from the
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/" id="pvfioq_43" rel="noopener noreferrer">
      KClass
     </a>
     interface creates a new instance of the specified class, which is useful for getting the runtime reference to a Kotlin class.
    </p>
   </section>
   <section class="chapter">
    <h2 data-toc="example" id="example">
     Example
    </h2>
    <p id="pvfioq_45">
     Here is an example of the reflection usage in Kotlin/JS.
    </p>
    <div class="code-block" data-lang="kotlin">
     open class Shape
class Rectangle : Shape()

inline fun &lt;reified T&gt; accessReifiedTypeArg() =
    println(typeOf&lt;T&gt;().toString())

fun main() {
    val s = Shape()
    val r = Rectangle()

    println(r::class.simpleName) // Prints "Rectangle"
    println(Shape::class.simpleName) // Prints "Shape"
    println(Shape::class.js.name) // Prints "Shape"

    println(Shape::class.isInstance(r)) // Prints "true"
    println(Rectangle::class.isInstance(s)) // Prints "false"
    val rShape = Shape::class.cast(r) // Casts a Rectangle "r" to Shape

    accessReifiedTypeArg&lt;Rectangle&gt;() // Accesses the type via typeOf(). Prints "Rectangle"
}
    </div>
   </section>
   <div class="last-modified">
    Last modified: 16 December 2024
   </div>
   <div data-feedback-placeholder="true">
   </div>
  </div>
 </body>
</html>
